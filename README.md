# Проект YaMDb
### Описание
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен администратором (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).
​
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
​
В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха.
​
Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.
​
Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.
​
### Технологии
Python 3.7, Django 3.2, DRF, JWT + Joser
​
### Как запустить проект:
​
Клонировать репозиторий и перейти в него в командной строке:
​
```
git clone https://github.com/Saltovez/api_yamdb.git
```
​
```
cd api_yamdb.git
```
​
Cоздать виртуальное окружение:
​
В macOS или Linux:
```
python3 -m venv env
```
В Windows:
```
python -m venv env
```
Активировать виртуальное окружение:
​
В macOS или Linux:
```
source env/bin/activate
```
В Windows:
```
source env/Scripts/activate 
```
​
Установить зависимости из файла requirements.txt:
​
```
python3 -m pip install --upgrade pip
```
​
```
pip install -r requirements.txt
```
​
Выполнить миграции:
​
```
python3 manage.py migrate
```
​
Запустить проект:
​
```
python3 manage.py runserver
```
​
### Работа с API для всех пользователей

Для неавторизованных пользователей работа с API доступна только в режиме чтения
```
GET /api/v1/categories/ - Получение списка всех категорий
GET /api/v1/genres/ - Получение списка всех жанров
GET /api/v1/titles/ - Получение списка всех произведений
GET /api/v1/titles/{title_id}/reviews/ - Получение списка всех отзывов
GET /api/v1/titles/{title_id}/reviews/{review_id}/comments/ - Получение списка всех комментариев к отзыву
```
### Работа с API для авторизованных пользователей

Получение данных своей учетной записи:
```
Права доступа: user
GET api/v1/users/me/
```
Добавление категорий:
```
Права доступа: admin
POST /api/v1/categories/

{
  "name": "string",
  "slug": "string"
}
```
Добавление жанров:
```
Права доступа: admin
POST /api/v1/genres/

{
  "name": "string",
  "slug": "string"
}
```
Добавление произведений и обновление информации о произведении:
```
Права доступа: admin
POST /api/v1/titles/
PATCH /api/v1/titles/{titles_id}/

{
  "name": "string",
  "year": 0,
  "description": "string",
  "genre": [
    "string"
  ],
  "category": "string"
}
```
Удаление произведений:
```
DELETE /api/v1/titles/{titles_id}/
```
К проекту по адресу http://127.0.0.1:8000/redoc/ подключена документация API YaMDb. В ней описаны возможные запросы к API и структура ожидаемых ответов. Для каждого запроса указаны уровни прав доступа: пользовательские роли, которым разрешён запрос.